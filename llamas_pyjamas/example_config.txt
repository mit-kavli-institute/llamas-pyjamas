#### This is a template configuration file to run the LLAMAS pipeline
#Its main purpose is to allow users to point to the files and directories that they wish to use for their data reduction
#The paths must be given as complete paths to ensure they can be found
#if files cannot be found or processed correctly then the pipeline defaults to the master calibration files

bias_file = /Users/slh/Library/CloudStorage/Box-Box/slhughes/testing_files/LLAMAS_2025-05-22T23_00_33.152_mef.fits
#example of a list of bias files to combine into a median master bias
#bias_file = file1.fits, file2.fits, file3.fits

#calibration files to include
red_flat_file = /Users/slh/Library/CloudStorage/Box-Box/slhughes/testing_files/trace_flats/LLAMAS_2025-05-23T12_34_47.516_mef.fits
green_flat_file = /Users/slh/Library/CloudStorage/Box-Box/slhughes/testing_files/trace_flats/LLAMAS_2025-05-23T12_27_47.585_mef.fits
blue_flat_file = /Users/slh/Library/CloudStorage/Box-Box/slhughes/testing_files/trace_flats/LLAMAS_2025-05-23T12_27_47.585_mef.fits

#science files to reduce
science_files = /Users/slh/Library/CloudStorage/Box-Box/slhughes/testing_files/LLAMAS_2025-05-23T00_51_25.019_mef.fits

#example of a list of science files to batch process
#science_files = path/to/file1.fits, path/to/file2.fits, path/to/file3.fits

#optional output directories for the trace generation and extraction files
#If these directories do not already exist they will be created at the time of processing

trace_output_dir = /Users/slh/Documents/Projects/Magellan_dev/LLAMAS/testing/fresh_test/traces
extraction_output_dir = /Users/slh/Documents/Projects/Magellan_dev/LLAMAS/testing/fresh_test/extractions
cube_output_dir = /Users/slh/Documents/Projects/Magellan_dev/LLAMAS/testing/fresh_test/cubes

# Ray parallelization control (optional, defaults to all CPU cores)
ray_num_cpus = 8

#==============================================================================
# CUBE CONSTRUCTION PARAMETERS
#==============================================================================
# Enable/disable cube generation (set to False if only 2D RSS products needed)
generate_cubes = True

# Cube construction method: simple (default, MUSE-like), crr, or traditional
# simple = Fast, MUSE-inspired interpolation (recommended)
# crr = Covariance-Regularized Reconstruction (slower, experimental)
# traditional = Legacy method
cube_method = simple

# Simple cube constructor parameters (used when cube_method = simple)
cube_pixel_size = 0.3          # Spatial pixel size in arcseconds (default: 0.3)
cube_fiber_pitch = 0.75        # Fiber-to-fiber pitch in arcseconds (default: 0.75)
cube_wave_sampling = 1.0       # Wavelength sampling factor (1.0 = native, 0.5 = 2x oversample)
cube_radius = 1.5              # Interpolation radius in arcseconds (default: 1.5, ~2 fiber pitches)
cube_min_weight = 0.01         # Minimum weight threshold for interpolation (default: 0.01)

# Legacy parameters for CRR and traditional methods (keep for backward compatibility)
CRR_cube = False               # Use CRR method (overrides cube_method if True)
CRR_parallel = False           # Enable parallel processing for CRR method

